<!DOCTYPE html>
<html lang="en-us">
    <!-- HEAD -->
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="no">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

        <link rel="shortcut icon" href="images/icon.png"/>
        <link rel="apple-touch-icon-precomposed" href="images/icon.png" />

        <link rel="stylesheet" href="css/styles.css">

        <title>WIDGET_WEATHER</title>

    </head>

<!-- Style -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;500;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap">


<!-- SVG Filter -->
<svg width="0" height="0" style="position:absolute;">
  <filter id="imageToBlackAndWhite">

    <!-- Yellowish->white, others->black -->
    <feColorMatrix type="matrix"
      values="
        4 4 -9 0 0
        4 4 -9 0 0
        4 4 -9 0 0
        0 0 0 1 0" />

  </filter>
</svg>


<!-- Style -->
<style>
  .truncate {
    white-space:   nowrap;
    overflow:      hidden;
    text-overflow: ellipsis;
  }

  .widget {
    font-family:    'Oswald', sans-serif;
    font-size:      3vh;
    font-weight:    200;
    font-style:     normal;

    height:         100%;
    width:          100%;

    border-radius:  1vh;
    overflow:       hidden;

    align-content:  center;
    align-items:    center;
    text-align:     center;

    aspect-ratio:   1/1;

    position:       relative; /* allows absolute positioning of children */

    z-index:        0;
  }

  .widget.graph {
    aspect-ratio:   auto;

    max-height:     100%;
    max-width:      100%;
  }

  .widget-header {
    position:       absolute;
    top:            0%;
    width:          100%;

    z-index:        1;
  }

  .widget-footer {
    position:       absolute;
    bottom:         0%;
    width:          100%;

    padding-left:   1vh;
    padding-right:  1vh;

    z-index:        1;
  }

  .widget-value {
    font-family:    'Oswald', sans-serif;
    font-size:      8vh;
    font-weight:    400;
    font-style:     normal;

    position:       absolute;
    top:            50%;
    left:           50%;
    transform:      translate(-50%, -52%);

    background:     none;
  }

  .widget-image {
    width:          70%;
    object-fit:     fill;
    margin-top:     5%;

    filter: url(#imageToBlackAndWhite) brightness(1.5) contrast(0.5);
/*    filter: url(#imageToBlackAndWhite) grayscale(100%) contrast(400%) brightness(50%) invert(100%); */

    z-index:        -1;
  }

  .widget-canvas {
    width:          100%;
    height:         100%;
    margin:         auto;
    background:     none;

    margin-top:     auto;
    margin-bottom:  auto;

    z-index:        -1;
  }
</style>



<script>
</script>



    <!-- BODY -->
    <body id="screen">
        <!-- TITLE -->
        <div id="game-title">
            WIDGET_WEATHER
        </div>

    <div class="view view--half-vertical">
        <div class="layout layout--col layout--top p--0 layout--stretch-x gap--xsmall">
            <div class="flex flex--row gap--xsmall">
                <div class="widget bg--gray-65">
                    <div id="weather-header"      class="widget-header"></div>
                    <img id="current-weather-img" class="widget-image" src=""/>
                    <div id="daily-sunrise"       class="widget-footer" style="text-align: left;"></div>
                    <div id="daily-sunset"        class="widget-footer" style="text-align: right;"></div>
                </div>
                <div class="widget bg--gray-65">
                    <div id="temperature-header"           class="widget-header"></div>
                    <div id="current-temperature"          class="widget-value"></div>
                    <div id="current-apparent-temperature" class="widget-footer" style="font-weight: 400;"></div>
                    <div id="current-temperature-unit"     class="widget-footer" style="text-align: right;"></div>
                </div>
                <div class="widget bg--gray-65">
                    <div id="wind-header"       class="widget-header"></div>
                    <div id="current-wind"      class="widget-value"></div>
                    <div id="current-gusts"     class="widget-footer" style="font-weight: 400;"></div>
                    <div id="current-wind-unit" class="widget-footer" style="text-align: right;"></div>
                    <canvas                     class="widget-canvas wind-widget-canvas"></canvas>
                </div>
                <div class="widget bg--gray-65">
                    <div id="uv-index-header"     class="widget-header">UV INDEX</div>
                    <div id="current-uv-index"    class="widget-value"></div>
                    <div id="current-cloud-cover" class="widget-footer" style="font-weight: 400;"></div>
                </div>
            </div>

            <div class="widget graph bg--gray-65">
                <div class="widget-header  m--0 p--0">PRECIPITATION / PROBABILITY</div>
                <canvas class="widget-canvas precipitation-canvas"></canvas>
            </div>

            <div class="widget graph bg--gray-65">
                <div class="widget-header">TEMPERATURE / FEELS LIKE</div>
                <canvas class="widget-canvas temperature-canvas"></canvas>
            </div>

            <div class="widget graph bg--gray-65">
                <div class="widget-header">WIND / GUSTS</div>
                <canvas class="widget-canvas wind-canvas"></canvas>
            </div>

            <div class="widget graph bg--gray-65">
                <div class="widget-header">UV INDEX / CLOUD COVER</div>
                <canvas class="widget-canvas uv-canvas"></canvas>
            </div>
        </div>

<!--
        <div class="title_bar bg--gray-6">
            <span class="title">Widget Weather</span>
            <span class="instance">{{ 'now' | date: '%B %d, %Y' }}</span>
        </div>
-->

    </div>


        <div id="debug-text"></div>

        <!-- SCRIPTS -->
        <script src="js/main.js"></script>
    </body>
</html>
